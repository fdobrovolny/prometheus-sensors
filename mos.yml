author: Pim van Pelt <pim@ipng.nl>
description: Library that interfaces sensors to Prometheus Metrics
type: lib
version: 1.0
platforms: [esp32, esp8266]

tags:
  - c

# List of files / directories with C sources. No slashes at the end of dir names.
sources:
  - src

includes:
  - include

config_schema:
  - ["sensors", "o", {title: "Sensors settings"}]
  - ["sensors.dht_gpio", "s", "13,12,14", {title: "Comma Separated list of GPIO pins to enable DHT22/AM2302 sensors on"}]
  - ["sensors.dht_period", "i", 3, {title: "Sample period in seconds for DHT sensors"}]
  - ["sensors.veml6075_i2caddr", "i", 0x10, {title: "I2C Address for VEML6075 sensor"}]
  - ["sensors.veml6075_period", "i", 3, {title: "Sample period in seconds for VEML6075 sensor"}]
  - ["sensors.bme280_i2caddr", "i", 0x77, {title: "I2C Address for BME280 sensor"}]
  - ["sensors.bme280_period", "i", 3, {title: "Sample period in seconds for BME280 sensor"}]
  - ["sensors.pushgateway_period", "i", 10, {title: "Period in seconds for Prometheus Pushgateway POSTs"}]
  - ["prometheus.pushgateway", "prometheus.example.net:9091"]


# List of libraries used by this app, in order of initialisation
# Note: To use sensor libraries, include one or more of these in your application mos.yml:
#  - origin: https://github.com/mongoose-os-libs/dht
#  - origin: https://github.com/mongoose-os-libs/veml6075-i2c
#  - origin: https://github.com/mongoose-os-libs/bme280
libs:
  - origin: https://github.com/mongoose-os-libs/prometheus-metrics

# Used by the mos tool to catch mos binaries incompatible with this file format
manifest_version: 2017-05-18
